{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Button}from'react-bootstrap';import{listProductDetails,createProductClaimer}from'../actions/productAction';import{PRODUCT_CREATE_CLAIMER_RESET}from'../constants/productConstants';import Loader from'../components/Loader';import Message from'../components/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(){var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var productClaimerCreate=useSelector(function(state){return state.productClaimerCreate;});var successProductClaimer=productClaimerCreate.success,loadingProductClaimer=productClaimerCreate.loading,errorProductClaimer=productClaimerCreate.error;useEffect(function(){if(userInfo){console.log('user');}if(!product._id||product._id!==id){dispatch(listProductDetails(id));dispatch({type:PRODUCT_CREATE_CLAIMER_RESET});}},[dispatch,successProductClaimer,product._id,id,userInfo]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(createProductClaimer(id));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn btn-light my-3\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Brand: \",product.brand]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Category: \",product.category]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Sponsor: \",product.sponsor]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product details\"}),/*#__PURE__*/_jsx(\"p\",{children:product.description})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Claimers: \",product.claimers]})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Claimers\"}),/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Click the button to claim the Gift\"}),successProductClaimer&&/*#__PURE__*/_jsx(Message,{variant:\"success\",children:\"Claim submitted successfully\"}),loadingProductClaimer&&/*#__PURE__*/_jsx(Loader,{}),errorProductClaimer&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorProductClaimer}),userInfo?/*#__PURE__*/_jsx(Button,{onClick:submitHandler,children:\"Claim it\"}):/*#__PURE__*/_jsxs(Message,{children:[\"Please \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"sign in\"}),\" to write a review\",' ']})]})})]})})]})]});};export default ProductScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useDispatch","useSelector","Row","Col","Image","ListGroup","Button","listProductDetails","createProductClaimer","PRODUCT_CREATE_CLAIMER_RESET","Loader","Message","ProductScreen","id","dispatch","productDetails","state","loading","error","product","userLogin","userInfo","productClaimerCreate","successProductClaimer","success","loadingProductClaimer","errorProductClaimer","console","log","_id","type","submitHandler","e","preventDefault","image","name","brand","category","sponsor","description","claimers"],"sources":["C:/Users/ARO LAMBO/giveaeay_portal/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Image, ListGroup, Button } from 'react-bootstrap'\r\n\r\nimport { listProductDetails,\r\n         createProductClaimer,\r\n       } from '../actions/productAction'\r\n\r\nimport { PRODUCT_CREATE_CLAIMER_RESET } from '../constants/productConstants';\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\n\r\nconst ProductScreen = () => {\r\n\r\n  const{ id } = useParams();\r\n  \r\n  const dispatch = useDispatch()\r\n\r\n  const productDetails = useSelector(state => state.productDetails)\r\n  const {loading, error, product } = productDetails\r\n\r\n  const userLogin = useSelector((state) => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n\r\n  const productClaimerCreate = useSelector((state) => state.productClaimerCreate)\r\n  const {\r\n    success: successProductClaimer,\r\n    loading: loadingProductClaimer,\r\n    error: errorProductClaimer,\r\n  } = productClaimerCreate\r\n\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      console.log('user')\r\n    }\r\n    if (!product._id || product._id !== id) {\r\n      dispatch(listProductDetails(id))\r\n      dispatch({ type: PRODUCT_CREATE_CLAIMER_RESET })\r\n    }\r\n  }, [dispatch, successProductClaimer, product._id, id, userInfo])\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    dispatch(\r\n      createProductClaimer(id)\r\n    )\r\n  }\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <>\r\n      <Link to='/products' className='btn btn-light my-3' >\r\n        Go Back\r\n      </Link>\r\n\r\n      {loading ? (\r\n      <Loader/> \r\n      ): error ? ( \r\n      <Message variant= 'danger'>{error}</Message> \r\n      ): (\r\n        <> \r\n        <Row>\r\n          \r\n          <Col md={6} >\r\n            <Image src={product.image} alt={product.name} fluid />\r\n</Col>\r\n\r\n<Col md={6}>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h3>{product.name}</h3>\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n               Brand: {product.brand}\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n               Category: {product.category}\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                Sponsor: {product.sponsor}\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <h3>Product details</h3>\r\n                <p>{product.description}</p>\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                Claimers: {product.claimers}\r\n              </ListGroup.Item>\r\n              \r\n        </ListGroup>\r\n      </Col>\r\n    </Row>\r\n\r\n    <Row>\r\n      <Col md={6}>\r\n\r\n      <h2>Claimers</h2>\r\n             \r\n              <ListGroup variant='flush'>\r\n                \r\n                <ListGroup.Item>\r\n                  <h2>Click the button to claim the Gift</h2>\r\n                  {successProductClaimer && (\r\n                    <Message variant='success'>\r\n                      Claim submitted successfully\r\n                    </Message>\r\n                  )}\r\n                  {loadingProductClaimer && <Loader />}\r\n                  {errorProductClaimer && (\r\n                    <Message variant='danger'>{errorProductClaimer}</Message>\r\n                  )}\r\n\r\n                  {userInfo ? (\r\n                    <Button onClick={submitHandler}>\r\n                          Claim it\r\n                    </Button>\r\n                  ) : (\r\n                    <Message>\r\n                      Please <Link to='/login'>sign in</Link> to write a review{' '}\r\n                    </Message>\r\n                  )}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n\r\n\r\n      </Col>\r\n\r\n    </Row>\r\n\r\n    </>\r\n      )\r\n\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductScreen\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}